apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
  #- ../../base/apps/nextcloud
  #- ../../base/apps/wordpress
  - ../../base/apps/kube-promstack
  - ../../base/exporters/mystrom
patches:
  - path: "./patches/prom.yaml"
    target:
      kind: Application
      name: "kube-prom-stack"
  - path: ./patches/mystrom.yaml
    target:
      kind: Pod
      name: mystrom-exporter
  - path: ./patches/mystrom-podmonitor.yaml
    target:
      kind: PodMonitor
      name: mystrom-exporter-podmonitor